# FallDetect 專案規格

## 專案概述

跑步追蹤與跌倒偵測 iOS 應用程式

## 核心功能

### 1. 跑步追蹤
- 點擊開始按鈕後開始計時
- 即時顯示跑步時間
- 即時顯示步數
- 動態更新每分鐘步頻（步/分鐘）
- 跑步結束後顯示總結：時間、總步數、平均步頻

### 2. GPS 定位
- 取得並顯示當前位置
- 記錄跑步路線（可選）

### 3. 感測器數據
- 使用手機陀螺儀計算人體 xyz 軸方向
- 顯示 xyz 軸加速度數據
- 即時更新感測器讀數

### 4. 跌倒偵測（額外功能）
- 使用陀螺儀和加速度計分析跌倒可能性
- 偵測到跌倒時發送 email 給設定好的聯絡人
- 可在設定中開啟/關閉此功能
- 可在設定中設定緊急聯絡人 email

### 5. 記錄功能
- 自動保存每次跑步記錄
- 記錄內容包括：日期時間、跑步時間、總步數、平均步頻、位置資訊
- 可查看歷史記錄列表
- 可查看單筆記錄詳情
- 可刪除記錄

## 技術架構

### 使用的框架
- **CoreMotion**：陀螺儀、加速度計、步數計
- **CoreLocation**：GPS 定位
- **MessageUI** 或 **SMTP**：Email 發送
- **SwiftUI**：使用者介面
- **CoreData** 或 **UserDefaults**：數據儲存

### 權限需求
- 位置權限（使用時）
- 動作與健身權限（步數）
- 感測器權限（陀螺儀、加速度計）

## 實作順序

1. 基本跑步追蹤（時間、步數、步頻）
2. GPS 定位功能
3. 陀螺儀與加速度計數據顯示
4. 記錄功能（數據儲存與查看）
5. 跌倒偵測演算法
6. Email 通知功能

## 注意事項

- 電池消耗：持續使用感測器和 GPS 會增加耗電
- 準確度：跌倒偵測需要調校演算法，避免誤判
- 背景執行：需要適當的背景模式設定

